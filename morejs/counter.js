let numbersaved = 1;
const started = document.getElementById("started");
const responseboi = document.getElementById('response');
const firstresponder = document.getElementById('fullthingcounted');
const bodyboi = document.body;

function typeq() {
    current = responseboi.innerHTML;
    current += 'q';
    responseboi.innerHTML = current; 
    return 'typeq()';
    }
function typew() {
    current = responseboi.innerHTML;
    current += 'w';
    responseboi.innerHTML = current; 
    return 'typew()';
    }
function typee() {
    current = responseboi.innerHTML;
    current += 'e';
    responseboi.innerHTML = current; 
    return 'typee()';
    }
function typer() {
    current = responseboi.innerHTML;
    current += 'r';
    responseboi.innerHTML = current; 
    return 'typer()';
    }
function typet() {
    current = responseboi.innerHTML;
    current += 't';
    responseboi.innerHTML = current; 
    return 'typet()';
    }
function typey() {
    current = responseboi.innerHTML;
    current += 'y';
    responseboi.innerHTML = current; 
    return 'typey()';
    }
function typeu() {
    current = responseboi.innerHTML;
    current += 'u';
    responseboi.innerHTML = current; 
    return 'typeu()';
    }
function typei() {
    current = responseboi.innerHTML;
    current += 'i';
    responseboi.innerHTML = current; 
    return 'typei()';
    }
function typeo() {
    current = responseboi.innerHTML;
    current += 'o';
    responseboi.innerHTML = current; 
    return 'typeo()';
    }
function typep() {
    current = responseboi.innerHTML;
    current += 'p';
    responseboi.innerHTML = current; 
    return 'typep()';
    }
function typea() {
    current = responseboi.innerHTML;
    current += 'a';
    responseboi.innerHTML = current; 
    return 'typea()';
    }
function types() {
    current = responseboi.innerHTML;
    current += 's';
    responseboi.innerHTML = current; 
    return 'types()';
    }
function typed() {
    current = responseboi.innerHTML;
    current += 'd';
    responseboi.innerHTML = current; 
    return 'typed()';
    }
function typef() {
    current = responseboi.innerHTML;
    current += 'f';
    responseboi.innerHTML = current; 
    return 'typef()';
    }
function typeg() {
    current = responseboi.innerHTML;
    current += 'g';
    responseboi.innerHTML = current; 
    return 'typeg()';
    }
function typeh() {
    current = responseboi.innerHTML;
    current += 'h';
    responseboi.innerHTML = current; 
    return 'typeh()';
    }
function typej() {
    current = responseboi.innerHTML;
    current += 'j';
    responseboi.innerHTML = current; 
    return 'typej()';
    }
function typek() {
    current = responseboi.innerHTML;
    current += 'k';
    responseboi.innerHTML = current; 
    return 'typek()';
    }
function typel() {
    current = responseboi.innerHTML;
    current += 'l';
    responseboi.innerHTML = current; 
    return 'typel()';
    }
function typez() {
    current = responseboi.innerHTML;
    current += 'z';
    responseboi.innerHTML = current; 
    return 'typez()';
    }
function typex() {
    current = responseboi.innerHTML;
    current += 'x';
    responseboi.innerHTML = current; 
    return 'typex()';
    }
function typec() {
    current = responseboi.innerHTML;
    current += 'c';
    responseboi.innerHTML = current; 
    return 'typec()';
    }
function typev() {
    current = responseboi.innerHTML;
    current += 'v';
    responseboi.innerHTML = current; 
    return 'typev()';
    }
function typeb() {
    current = responseboi.innerHTML;
    current += 'b';
    responseboi.innerHTML = current; 
    return 'typeb()';
    }
function typen() {
    current = responseboi.innerHTML;
    current += 'n';
    responseboi.innerHTML = current; 
    return 'typen()';
    }
function typem() {
    current = responseboi.innerHTML;
    current += 'm';
    responseboi.innerHTML = current; 
    return 'typem()';
    }
function typeQ() {
    current = responseboi.innerHTML;
    current += 'Q';
    responseboi.innerHTML = current; 
    return 'typeQ()';
    }
function typeW() {
    current = responseboi.innerHTML;
    current += 'W';
    responseboi.innerHTML = current; 
    return 'typeW()';
    }
function typeE() {
    current = responseboi.innerHTML;
    current += 'E';
    responseboi.innerHTML = current; 
    return 'typeE()';
    }
function typeR() {
    current = responseboi.innerHTML;
    current += 'R';
    responseboi.innerHTML = current; 
    return 'typeR()';
    }
function typeT() {
    current = responseboi.innerHTML;
    current += 'T';
    responseboi.innerHTML = current; 
    return 'typeT()';
    }
function typeY() {
    current = responseboi.innerHTML;
    current += 'Y';
    responseboi.innerHTML = current; 
    return 'typeY()';
    }
function typeU() {
    current = responseboi.innerHTML;
    current += 'U';
    responseboi.innerHTML = current; 
    return 'typeU()';
    }
function typeI() {
    current = responseboi.innerHTML;
    current += 'I';
    responseboi.innerHTML = current; 
    return 'typeI()';
    }
function typeO() {
    current = responseboi.innerHTML;
    current += 'O';
    responseboi.innerHTML = current; 
    return 'typeO()';
    }
function typeP() {
    current = responseboi.innerHTML;
    current += 'P';
    responseboi.innerHTML = current; 
    return 'typeP()';
    }
function typeA() {
    current = responseboi.innerHTML;
    current += 'A';
    responseboi.innerHTML = current; 
    return 'typeA()';
    }
function typeS() {
    current = responseboi.innerHTML;
    current += 'S';
    responseboi.innerHTML = current; 
    return 'typeS()';
    }
function typeD() {
    current = responseboi.innerHTML;
    current += 'D';
    responseboi.innerHTML = current; 
    return 'typeD()';
    }
function typeF() {
    current = responseboi.innerHTML;
    current += 'F';
    responseboi.innerHTML = current; 
    return 'typeF()';
    }
function typeG() {
    current = responseboi.innerHTML;
    current += 'G';
    responseboi.innerHTML = current; 
    return 'typeG()';
    }
function typeH() {
    current = responseboi.innerHTML;
    current += 'H';
    responseboi.innerHTML = current; 
    return 'typeH()';
    }
function typeJ() {
    current = responseboi.innerHTML;
    current += 'J';
    responseboi.innerHTML = current; 
    return 'typeJ()';
    }
function typeK() {
    current = responseboi.innerHTML;
    current += 'K';
    responseboi.innerHTML = current; 
    return 'typeK()';
    }
function typeL() {
    current = responseboi.innerHTML;
    current += 'L';
    responseboi.innerHTML = current; 
    return 'typeL()';
    }
function typeZ() {
    current = responseboi.innerHTML;
    current += 'Z';
    responseboi.innerHTML = current; 
    return 'typeZ()';
    }
function typeX() {
    current = responseboi.innerHTML;
    current += 'X';
    responseboi.innerHTML = current; 
    return 'typeX()';
    }
function typeC() {
    current = responseboi.innerHTML;
    current += 'C';
    responseboi.innerHTML = current; 
    return 'typeC()';
    }
function typeV() {
    current = responseboi.innerHTML;
    current += 'V';
    responseboi.innerHTML = current; 
    return 'typeV()';
    }
function typeB() {
    current = responseboi.innerHTML;
    current += 'B';
    responseboi.innerHTML = current; 
    return 'typeB()';
    }
function typeN() {
    current = responseboi.innerHTML;
    current += 'N';
    responseboi.innerHTML = current; 
    return 'typeN()';
    }
function typeM() {
    current = responseboi.innerHTML;
    current += 'M';
    responseboi.innerHTML = current; 
    return 'typeM()';
    }
function typedash() {
    current = responseboi.innerHTML;
    current += '-';
    responseboi.innerHTML = current; 
    return 'typedash()';
}
function typebackspace() {
    current = responseboi.innerHTML;
    current = current.substring(0, current.length - 1);
    responseboi.innerHTML = current;
    return 'typebackspace()';
}

function typespace() {
    current = responseboi.innerHTML;
    current += ' ';
    responseboi.innerHTML = current; 
    return 'typespace()';
}

bodyboi.addEventListener("keydown", function(event) {
    
  if (event.key == 'q') {
    document.getElementById("q").click()
  }

  else if (event.key == 'Q') {
    document.getElementById("Q").click();
  }

  else if (event.key == 'w') {
    document.getElementById("w").click();
  }

  else if (event.key == 'W') {
    document.getElementById("W").click();
  }

  else if (event.key == 'e') {
    document.getElementById("e").click();
  }

  else if (event.key == 'E') {
    document.getElementById("E").click();
  }

  else if (event.key == 'r') {
    document.getElementById("r").click();
  }

  else if (event.key == 'R') {
    document.getElementById("R").click();
  }

  else if (event.key == 't') {
    document.getElementById("t").click();
  }

  else if (event.key == 'T') {
    document.getElementById("T").click();
  }

  else if (event.key == 'y') {
    document.getElementById("y").click();
  }

  else if (event.key == 'Y') {
    document.getElementById("Y").click();
  }

  else if (event.key == 'u') {
    document.getElementById("u").click();
  }

  else if (event.key == 'U') {
    document.getElementById("U").click();
  }

  else if (event.key == 'i') {
    document.getElementById("i").click();
  }

  else if (event.key == 'I') {
    document.getElementById("I").click();
  }

  else if (event.key == 'o') {
    document.getElementById("o").click();
  }

  else if (event.key == 'O') {
    document.getElementById("O").click();
  }

  else if (event.key == 'p') {
    document.getElementById("p").click();
  }

  else if (event.key == 'P') {
    document.getElementById("P").click();
  }

  else if (event.key == 'a') {
    document.getElementById("a").click();
  }

  else if (event.key == 'A') {
    document.getElementById("A").click();
  }

  else if (event.key == 's') {
    document.getElementById("s").click();
  }

  else if (event.key == 'S') {
    document.getElementById("S").click();
  }

  else if (event.key == 'd') {
    document.getElementById("d").click();
  }

  else if (event.key == 'D') {
    document.getElementById("D").click();
  }

  else if (event.key == 'f') {
    document.getElementById("f").click();
  }

  else if (event.key == 'F') {
    document.getElementById("F").click();
  }

  else if (event.key == 'g') {
    document.getElementById("g").click();
  }

  else if (event.key == 'G') {
    document.getElementById("G").click();
  }

  else if (event.key == 'h') {
    document.getElementById("h").click();
  }

  else if (event.key == 'H') {
    document.getElementById("H").click();
  }

  else if (event.key == 'j') {
    document.getElementById("j").click();
  }

  else if (event.key == 'J') {
    document.getElementById("J").click();
  }

  else if (event.key == 'k') {
    document.getElementById("k").click();
  }

  else if (event.key == 'K') {
    document.getElementById("K").click();
  }

  else if (event.key == 'l') {
    document.getElementById("l").click();
  }

  else if (event.key == 'L') {
    document.getElementById("L").click();
  }

  else if (event.key == 'z') {
    document.getElementById("z").click();
  }

  else if (event.key == 'Z') {
    document.getElementById("Z").click();
  }

  else if (event.key == 'x') {
    document.getElementById("x").click();
  }

  else if (event.key == 'X') {
    document.getElementById("X").click();
  }

  else if (event.key == 'c') {
    document.getElementById("c").click();
  }

  else if (event.key == 'C') {
    document.getElementById("C").click();
  }

  else if (event.key == 'v') {
    document.getElementById("v").click();
  }

  else if (event.key == 'V') {
    document.getElementById("V").click();
  }

  else if (event.key == 'b') {
    document.getElementById("b").click();
  }

  else if (event.key == 'B') {
    document.getElementById("B").click();
  }

  else if (event.key == 'n') {
    document.getElementById("n").click();
  }

  else if (event.key == 'N') {
    document.getElementById("N").click();
  }

  else if (event.key == 'm') {
    document.getElementById("m").click();
  }

  else if (event.key == 'M') {
    document.getElementById("M").click();
  }
    
    else if (event.key == 'Backspace') {
        typebackspace();
    }
    else if (event.key == ' ') {
        event.preventDefault();
        typespace();
    }
    else if (event.key == '-') {
      	typedash();
    }
    else {
        console.log(event.key);
    }
}
);
const sleep = function(milliseconds) {
  return new Promise(function(resolve) { setTimeout(resolve, milliseconds) })
}
document.body.addEvent
function passer() {
  //pass
}

function submitter1() {
  if (((responseboi.innerHTML).split(" ").length - 1) > 1) {
    responseboi.innerHTML = "";
    alert("Error: More than one space");
    //console.log("first if run");
    document.getElementById("submitter").disabled = true;
    sleep(100).then(function() {
      document.getElementById("submitter").disabled = false;
    })
    //console.log("first if run after sleep");

  }
  else if (((responseboi.innerHTML).split(" ").length - 1) < 1) {
    responseboi.innerHTML = "";
    alert("Error: No spaces");
    //console.log("second if run");
    document.getElementById("submitter").disabled = true;
    sleep(100).then(function() {
      document.getElementById("submitter").disabled = false;
    })
    //console.log("second if run after sleep");

  }
  else if ((responseboi.innerHTML).split(" ")[0] == "" || (responseboi.innerHTML).split(" ")[1] == "") {
    responseboi.innerHTML = "";
    alert("Error, no word before or after space");
    //console.log("third if run");
    document.getElementById("submitter").disabled = true;
    sleep(100).then(function() {
      document.getElementById("submitter").disabled = false;
    })
    //console.log("third if run after sleep");

  }
  else {
    //console.log(responseboi.innerHTML);
    //theresponseofall.response = responseboi.innerHTML;
    document.getElementById("submitter").disabled = true;
    document.getElementById("buttoninstructions").innerHTML = `Instructions: Press <span style="color: darkolivegreen;">Start</span> to begin, Press <span style="color: blue;">Add 1</span> to add 1 instance recorded, Press <span style="color: darkred;">Save</span> to end`;
    document.getElementById("nameofcount").innerHTML = responseboi.innerHTML;
    const listofbuttons = document.getElementsByClassName("epicbutton");
    //console.log(listofbuttons);
    for (x of listofbuttons) {
      x.disabled = true;
    }
    const listofolderbuttons = document.getElementsByClassName("epicbuttonold");

    for (x of listofolderbuttons) {
      x.disabled = true;
    }
    const thingcountedbro = responseboi.innerHTML.split(" ")[0]
    const thingactionbro = responseboi.innerHTML.split(" ")[1]
    document.getElementById("saved1").getElementsByTagName('td')[1].innerHTML = `Number of ${thingcountedbro} ${thingactionbro}`;
    document.getElementById("starter").disabled = false;
    document.getElementById("adder").disabled = false;
    document.getElementById("saver").disabled = false;
    
    
    /*
    document.getElementById("nameofcount").innerHTML = saved;
    firstsub.innerHTML = `<a href="counter.html"> Click this link for something cool! </a>`;
    document.getElementById("maindiv").appendChild(firstsub);
    */
  }
  
 // const firstsubeditor = document.getElementById('fullactiondone');
 // firstsubeditor.innerHTML = "Type Action here (ex: People <b>counted</b>, Frogs <b>jumped</b>) <span id='response'> </span>";
}  
    




function time() {
    let isAm = true;
    let d = new Date();
    let s = d.getSeconds();
    let m = d.getMinutes();
    let h = d.getHours();
    if (parseInt(s) < 10) {
        s = "0" + s;
    }
    if (parseInt(m) < 10) {
        m = "0" + m;
    }
    if (parseInt(h) > 12) {
        h -= 12;
        isAm = false;
    }
    else if (parseInt(h) == 12) {
        isAm = false;
    }
    if (isAm == true) {
        return `${h}:${m}:${s} AM`; 
    }
    else {
        return `${h}:${m}:${s} PM`;
    }

}

function startit() {
    if ((started.innerHTML).includes(`Started`)) { //checks if they already pressed started
        //console.log(started);
        //console.log(started.innerHTML);
        const previousval = started.innerHTML;
        
        document.getElementById("starter").disabled = true;
        document.getElementById("adder").disabled = true;
        document.getElementById("saver").disabled = true;
        
        started.innerHTML = "Already started.";
        //console.log(started.innerHTML);
        sleep(300).then(function() {
            
            //console.log(started.innerHTML);
            sleep(500).then(function() {
                //console.log("value at first dot is" + started.innerHTML);
                started.innerHTML = started.innerHTML + ".";
                sleep(500).then(function() {
                    //console.log("value at first dot is" + started.innerHTML);
                    started.innerHTML = started.innerHTML + ".";
                    sleep(500).then(function() {
                        //console.log("value at first dot is" + started.innerHTML);
                        started.innerHTML = started.innerHTML + ".";
                        sleep(1500).then(function() {
                            document.getElementById("starter").disabled = false;
                            document.getElementById("adder").disabled = false;
                            document.getElementById("saver").disabled = false;
                            started.innerHTML = previousval;
                            //console.log("completed");
                        })
                        
                    })
                })
            })
            
        }
        )
        
    }
    else { //if they didnt already press start, then u can do it
        document.getElementById("started").innerHTML = `Started ${time()}`;
    }
}
function addit() {
    let number = parseInt(document.getElementById("number").innerHTML);
    if ((document.getElementById("started").innerHTML).includes(`Started`)) { //checks if it has started
        number++;
        console.log(number);
        document.getElementById("number").innerHTML = number;
    }
    else { //hasn't started, so dont run
        document.getElementById("started").innerHTML = "Haven't Pressed Start Yet!"
    }
    
}
function saveit() {
    let information = document.getElementById("saved1").innerHTML;
    if ((document.getElementById("started").innerHTML).includes(`Started`)) {
        let ending = `Ended ${time()}`
        information += `<tr> <td> ${numbersaved} </td> <td> ${document.getElementById("number").innerHTML} </td> <td> ${document.getElementById("started").innerHTML} </td> <td> ${ending} </td></tr> \n`;
        document.getElementById("saved1").innerHTML = information;
        document.getElementById("number").innerHTML = 0;
        numbersaved++;  
        document.getElementById("started").innerHTML = "";
        
    }
    else {
        //information += `<tr> <td> ${numbersaved} </td> <td> N/A </td> <td> N/A </td> <td> N/A </td></tr> \n`;
        //document.getElementById("saved1").innerHTML = information;
        //document.getElementById("number").innerHTML = 0;
        //numbersaved++;
        //document.getElementById("started").innerHTML = "";
        document.getElementById("started").innerHTML = "Haven't Pressed Start Yet!";
    }
    
}

function loader() {
  document.getElementById("starter").disabled = true;
  document.getElementById("adder").disabled = true;
  document.getElementById("saver").disabled = true;
}